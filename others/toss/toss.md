###### 문제 설명

# 1. 프로필 만들기

난이도: ★

## 배경

출근 첫날 **설레는** 마음으로 토스에 도착한 김토스님은 토스 팀원들의 메신저 프로필을 자동으로 설정해주는 자동화 시스템이 고장났다는 사실을 우연히 알게됩니다.김토스님은 입사 동기들의 메신저 프로필이 생성되지 않는 문제가 발생한 것을 보고, 시스템을 대신해 동기들의 프로필 이름을 직접 설정하고 메신저 프로필을 생성해두려고 합니다.

## 문제

많은 수의 팀원이 함께 일하는 토스팀에서는 이름이 같은 팀원을 쉽게 구별할 수 있도록 메신저 프로필 이름을 프로필 이름 규칙 에 따라 생성하고 있습니다. 이름이 문자열 리스트로 입력되면, 각 이름을 프로필 이름 규칙에 맞게 변환해서 출력하는 함수를 작성해주세요.

### 프로필 이름 규칙

- 모든 팀원의 이름 뒤에 구분자를 붙입니다.
- 구분자는 대문자 알파벳이고, A부터 Z까지 입사한 순서대로 붙입니다.

## 입력 예시

토스팀 팀원들의 이름이 문자열 리스트인 `name_list` 로 주어집니다.

- 입사일이 가장 오래된 팀원 이름이 맨 첫번째로 나오고, 입사한 순서로 정렬되어있습니다.
- 하나의 이름에 대한 동명이인은 최대 26명이라고 가정합니다.

```
["김비바", "김비바", "이비바", "김토스", "이비바", "김비바"]
```

## 출력 예시

```
["김비바A", "김비바B", "이비바A", "김토스A", "이비바B", "김비바C"]
```





###### 문제 설명

# 2. 간식을 먹자

난이도: ★★★

## 배경

토스에 처음 출근한 날에는 '토스팀 온보딩' 프로세스를 거치게 됩니다.
이 과정을 통해 근로계약서 작성과 같은 인사상의 프로세스를 진행하고 토스팀이 일하는 방식과 커뮤니케이션하는 방식에 관해서 설명을 듣습니다.

김토스님은 '토스팀 온보딩 세션' 을 듣기 위해 13층으로 이동합니다.
**배가 고픈** 김토스님은 세션 시작 전까지 세션 장소 옆에 있는 토스 매점에서 간식으로 배를 채우려 합니다.

다만, 김토스님은 현재 다이어트 중이어서 가능하면 적은 양의 간식을 먹으려 합니다.

## 문제

세션 시작까지 남은 시간 동안 쉬지 않고 먹을 수 있는 간식의 개수를 출력하는 함수를 작성해주세요.

단, 간식의 개수는 가능한 한 적어야 합니다.

#### 간식 리스트

| 이름   | 먹는 데 걸리는 시간 | 매점 내 잔여 수량 |
| ------ | ------------------- | ----------------- |
| 콜라   | 300초               | 10개              |
| 초콜릿 | 130초               | 30개              |
| 과자   | 120초               | 20개              |
| 젤리   | 20초                | 30개              |

## 입력 예시 1

```
300
```

## 출력 예시 1

```
1
```

## 입력 예시 2

```
450
```

## 출력 예시 2

```
3
```





###### 문제 설명

# 3. 조직도 검색하기

난이도: ★★★★

## 배경

토스팀 온보딩 세션을 진행하던 중 '토스팀 조직도' 의 검색 시스템이 망가졌습니다. 김토스님은 온보딩 세션을 무사히 마칠 수 있도록 검색 시스템을 고치려고합니다.

## 문제

'토스팀 조직도' 에는 '토스팀' 이라는 최상위 조직이 존재합니다. 그리고 '토스팀' 을 제외한 모든 조직에는 반드시 1개의 상위 조직이 있고, 모든 팀원은 1개의 조직에만 소속될 수 있다고 합니다.

'토스팀 조직도' 는 스프레드시트에서 관리하고 있기 때문에, 그 데이터를 통해 각 조직의 '조직 ID' 와 '조직명', '상위 조직', '소속 팀원 수' 에 대한 정보를 CSV 파일로 변환하여 전달받을 예정입니다.

예를 들어,

![image (23).png](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/6453a077-9420-466b-9e04-bb97a53cf22e/image%20%2823%29.png)

조직도가 위와 같이 구성된 경우 전달받을 파일의 내용은 아래와 같습니다.

```
조직 ID,조직명,상위 조직 ID,소속 팀원 수
1,토스팀,,1
2,인터널 트라이브,1,1
3,인터널 매니저 팀,2,7
4,비바 플랫폼 팀,2,14
5,아웃터널 트라이브,1,2
6,가이드 팀,5,4
7,피트아웃 사일로,5,11
```

이 때, 특정 검색어로 검색된 조직에 속한 모든 팀원의 수를 반환하는 함수를 작성해주세요.

특정 검색어로 검색된 조직이란 다음 2가지 조건 중 하나를 만족하는 조직을 말합니다.

1. 조직명이 검색어를 포함
2. 위 1번 조건을 만족하는 조직의 하위에 있는 모든 조직

만일 위 조건에 따라 검색된 조직이 없다면, 검색에 실패했다는 의미로 -1을 반환해주세요.

## 입력 예시

함수의 첫번째 인자로는 CSV 형태의 문자열(`csv_string`)이 주어집니다.

```
"조직 ID,조직명,상위 조직 ID,소속 팀원 수\n1,토스팀,,1\n2,인터널 트라이브,1,1\n3,인터널 매니저 팀,2,7\n4,비바 플랫폼 팀,2,14\n5,아웃터널 트라이브,1,2\n6,가이드 팀,5,4\n7,피트아웃 사일로,5,11"
```

함수의 두번째 인자로는 검색할 문자열 (`keyword`)이 주어집니다.

```
"아웃"
```

## 출력 예시

```
17
```

위 예시에서 "아웃" 으로 검색된 조직은 "아웃터널 트라이브" 와 "가이드 팀", "피트아웃 사일로" 입니다. 이 조직들에 소속된 팀원 수를 합하면 17명입니다.





###### 문제 설명

# 4. 자리 배치

난이도: ★★★★★

## 배경

자리를 배정받기 직전의 김토스님은 자리 배치 자동화 시스템도 고장났다는 걸 알게 되었습니다. 빨리 자리로 가고 싶은 김토스님은 자리 배치를 도와주려고 합니다.

## 문제

팀원 직군 리스트가 입력됐을 때 자리 배치 조건에 맞게 자리 배치가 가능한 모든 경우의 수를 출력해주세요.

### 제한

- 아래 목록에 포함된 직군만 팀 배정을 한다고 가정합니다.
  - PO: Product Owner
  - PD: Product Designer
  - FE: Frontend Developer
  - BE: Backend Developer
- 한 팀에 모든 직군은 한 명 이상 포함됩니다.
- 같은 직군 내에는 임의의 정해진 순서가 있다고 가정하고, 같은 직군 내의 자리 변경은 고려하지 않습니다.

### 자리 배치 조건

자리 배치 조건은 아래와 같습니다. 더 자세한 설명은 자리 배치 예시를 참고해 주세요.

- 팀원은 일렬로 앉습니다.
- 한 명의 PO는 반드시 맨 왼쪽에 위치해야 합니다.
- **각각의 모든** PO와 **각각의 모든** PD는 인접한 자리에 위치해야 합니다.
- PD와 FE 사이에는 다른 사람이 최대 2명까지만 앉을 수 있습니다.
  - ex) `["PD", ?, ? "FE"]`

만약 모든 조건을 만족하게 자리를 배치할 방법이 존재하지 않는다면 0을 출력해주세요.

### 자리 배치 예시

보다 정확한 설명을 위해 아래 자리 배치 예시를 준비했습니다.
설명 편의상 직군 뒤에 숫자를 붙여 설명하지만, 실제 함수의 인자로 들어오는 리스트에는 숫자가 붙어 있지 않습니다.

**조건을 만족하는 경우**

- `["PO1", "PD1", "FE1", "BE1"]`
- `["PO1", "PD1", "PO2", "BE1", "FE1", "BE2"]`

**조건을 만족하지 않는 경우**

- `["PO1", "PD1", "PO2", "PD2", "FE1", "BE1"]` => PO1과 PD1은 인접하지만, PO1과 PD2가 인접하지 않음
- `["PO1", "PD1", "FE1", "BE1", "BE2", "FE2"]` => PD1과 FE1 사이에는 아무도 없지만, PD1과 FE2 사이에는 3명이 앉아 있음.

**유의 사항**

- `["PO1", "PD1", "FE1", "BE1", "FE2"]`와 `["PO1", "PD1", "FE2", "BE1", "FE1"]`는 `["PO", "PD", "FE", "BE", "FE"]`로 같다고 간주하고 하나로 카운트합니다.

## 입력 예시

한 팀의 팀원들의 직군이 이름이 문자열 리스트인 `position_list`로 주어집니다.

```
["PO", "PD", "FE", "BE"]
```

## 출력 예시

```
2
```





###### 문제 설명

# 5. 금주의 Q&A

난이도: ★★★★★

# 배경

험난한 여정을 모두 이겨낸 김토스님은 온보딩세션에서 교육받은 "#무엇이든물어보세요" 슬랙 채널이 어떻게 운영되는지 궁금해졌습니다. 슬랙(Slack)은 토스에서 사용중인 업무용 메신저이고 채널(Channel)은 슬랙 사용자들이 모여있는 채팅방입니다. 토스에는 수백개가 넘는 슬랙 채널이 있고 하루에도 몇천건이 넘는 정보가 쏟아집니다. 그래서 팀원들이 궁금한 정보를 빨리 얻어갈 수 있도록 Q&A 채널인 "#무엇이든물어보세요"를 운영하고 있습니다.

이 채널에서는 정기적으로 `금주의 Q&A 대회`가 열립니다. 대회 기간동안 질문을 업로드하면, 사람들이 본인이 중요하다고 생각하는 질문에 이모티콘을 누르고, 대회기간동안 질문이 획득한 이모티콘의 갯수와 종류에 따라 순위가 정해지는 대회입니다. 예컨대 아래 질문의 경우 획득한 이모티콘의 종류는 4개이고 이모티콘 갯수는 7개 입니다.

![photo.png](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/7023a657-1f51-4632-961d-db1bb6dd8555/photo.png)

지금까지 이 대회는 수작업으로 이모티콘 종류와 갯수를 세고 있었다고 합니다. 김토스님은 이런 비효율을 타파하기 위해 대회 순위를 자동으로 출력하는 SQL 쿼리를 작성해드리려 합니다.

### 대회 규칙

대회 규칙은 다음과 같습니다.

- 질문의 작성자가 누른 이모티콘은 갯수 및 종류 합계에서 제외됩니다
- 하나의 질문에 대해 한 사람이 여러 종류의 이모티콘을 달 수 있습니다
- 하나의 질문에 대해 한 사람이 한 종류의 이모티콘을 여러번 달 수는 없습니다
- 질문에 달린 이모티콘 갯수의 합이 많을 수록 높은 순위를 가집니다
- 이모티콘 갯수의 합이 동일한 경우, 이모티콘의 종류가 많을수록 더 높은 순위를 가집니다
- 이모티콘 갯수와 종류도 모두 동일한 경우, 먼저 등록된 질문이 더 높은 순위를 가집니다

### 테이블 소개

테이블명: **toss_users**
설명: 슬랙을 사용하는 모든 사용자 정보를 담고 있는 테이블

```
CREATE TABLE `toss_users`
(
    `id`    INT            NOT NULL    AUTO_INCREMENT, 
    `name`  VARCHAR(45)    NULL        COMMENT '사용자 이름', 
     PRIMARY KEY (id)
);
```

테이블명: **toss_questions**
설명: 사용자가 업로드한 질문 정보 테이블

```
CREATE TABLE `toss_questions`
(
    `id`          INT             NOT NULL    AUTO_INCREMENT, 
    `content`     VARCHAR(100)    NULL        COMMENT '질문 내용', 
    `uploader`    INT             NULL        COMMENT '질문자 ID', 
    `created_at`  DATETIME            NULL        COMMENT '질문 등록일', 
     PRIMARY KEY (id),
     FOREIGN KEY (uploader) REFERENCES toss_users (id)
);
```

테이블명: **toss_emoticons**
설명: 사용자가 질문에 부여할 수 있는 이모티콘 정보 테이블

```
CREATE TABLE `toss_emoticons`
(
    `id`             INT            NOT NULL    AUTO_INCREMENT, 
    `emoticon_name`  VARCHAR(45)    NULL        COMMENT '이모티콘 이름', 
     PRIMARY KEY (id)
);
```

테이블명: **toss_question_emoticon_votes**
설명: 사용자가 질문에 부여한 이모티콘 정보 테이블

```
CREATE TABLE `toss_question_emoticon_votes`
(
    `id`             INT         NOT NULL    AUTO_INCREMENT, 
    `question_id`    INT         NULL        COMMENT '질문 ID', 
    `emoticon_id`    INT         NULL        COMMENT '이모티콘 ID', 
    `click_user_id`  INT         NULL        COMMENT '질문에 이모티콘을 클릭한 사용자의 ID', 
    `created_at`     DATETIME        NULL        COMMENT '질문에 이모티콘이 등록된 날짜', 
     PRIMARY KEY (id),
     FOREIGN KEY (question_id) REFERENCES toss_questions (id),
     FOREIGN KEY (emoticon_id) REFERENCES toss_emoticons (id),
     FOREIGN KEY (click_user_id) REFERENCES toss_users (id)
);
```

# 문제

이번 대회의 시작일과 종료일은 2021년 8월 23일, 2021년 8월 27일 입니다.
위 대회 규칙에 따른 순위가 높은 질문부터 순위가 낮은 질문 순서로 정렬하여 대회 결과를 보여주세요.

# 주의사항

- 대회 시작일 전과 대회 종료일 후에 작성된 질문은 결과에서 제외합니다 (**시작일, 종료일 당일은 제외하지 않습니다!**)
- 대회 시작일 전과 대회 종료일 후에 달린 이모티콘은 갯수 및 종류 합계에서 제외합니다 (**시작일, 종료일 당일은 제외하지 않습니다!**)
- 아무 이모티콘도 획득하지 못한 질문 역시 `획득 이모티콘 갯수(emoticon_cnt)` , `획득 이모티콘 종류 갯수(emoticon_type_cnt)` 모두 0으로 결과에 포함되어야 합니다
- 편의상 이모티콘 갯수, 종류 및 등록일이 모두 동일한 질문은 없다고 가정합니다

# 출력

질문ID(id), 질문 내용(content), 질문자 이름(user_name), 획득 이모티콘 갯수(emoticon_cnt), 획득 이모티콘 종류 갯수(emoticon_type_cnt), 질문 등록일(created_at) 으로 이루어진 Table

# 출력 예시

| id   | content                   | user_name | emoticon_cnt | emoticon_type_cnt | created_at          |
| ---- | ------------------------- | --------- | ------------ | ----------------- | ------------------- |
| 1    | 공용우산은 어디에 있나요? | 김경섭    | 10           | 5                 | 2021-08-24 00:00:00 |
| 2    | 코어밸류는 무엇인가요?    | 한은환    | 10           | 3                 | 2021-08-25 00:00:00 |
| 3    | 공사가 예정되어있나요?    | 강재연    | 10           | 3                 | 2021-08-27 00:00:00 |
| 4    | 화장실은 어디에 있나요?   | 오지섭    | 7            | 7                 |                     |



###### 문제 설명

# 6. 커싸 원두 재고량 계산하기

난이도: ★★

## 배경

좌석 문제를 해결한 김토스님은, 업무를 시작하기 전에 팀 리더와 간단한 커피챗을 하기위해 커피 사일로로 이동합니다.
(커피 사일로: 사내 커피숍)

커피를 주문하고 기다리는 중에 커피 사일로에서 커피 원두 재고량 확인에 어려움을 겪고 있다는 사실을 듣게됩니다.

이에 김토스님은 본인의 개발역량을 발휘하여 재고량을 간단히 확인할 수 있는 방법을 제공해드리려 합니다.

## 문제

이러한 문제 상황에서, 2021년 5월 2일의 커피 재고를 테이블 형태로 반환하는 SQL 쿼리를 작성해주세요.

결과는 toss_coffee.id 기준으로 오름차순 정렬해주세요.

커피 사일로에서 보관하고 있는 원두와 관련된 테이블의 정보는 아래와 같습니다.

#### 커피 원두 목록

```
CREATE TABLE toss_coffee (
    id   BIGINT      NOT NULL AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(15) NOT NULL
);
```

#### 커피 원두의 발주/소모 이력

```
CREATE TABLE toss_coffee_log (
    id        BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    coffee_id BIGINT,
    date      DATE,
    amount    BIGINT,
    FOREIGN KEY (coffee_id) REFERENCES toss_coffee(id)
);
```

## 출력 예시

| id   | name                | amount |
| ---- | ------------------- | ------ |
| 1    | 브라질 산토스       | 1010   |
| 2    | 콜롬비아 수프리모   | 0      |
| ...  | ...                 | ...    |
| 3    | 자메이카 블루마운틴 | 0      |

```sql
SELECT
    tc.id, tc.name, log.amount
FROM
    toss_coffee as tc
RIGHT JOIN
    (
        SELECT
            coffee_id, SUM(amount) as amount
        FROM
            toss_coffee_log
        WHERE
           date <= '2021-05-02' 
        GROUP BY
            coffee_id
        
    ) AS log
ON
    tc.id = log.coffee_id
ORDER BY
    tc.id;
```

